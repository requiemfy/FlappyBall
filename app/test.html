
<button id="asycnNoAwait">test without await (a)</button>
<button id="asycnAwait">test with await (b)</button>
<button id="notAsyncButton">click not async</button>
<button id="clear">clear console</button>

<script>
  function someMath() {
    for (let i = 0; i < 9000000; i++) { Math.sqrt(i**5) }
  }


  let myPromise = () => new Promise(function(myResolve, myReject) {
    // someMath();

    let myvar;
    for (let i = 0; i < 20; i++) {
      if (i == 19) {
        console.log("MATH A");
        myvar = "i hate you";
      }
    }
    // myResolve("I love You !!");
    myResolve(myvar);

  });

  async function mathA() {
    someMath();
    setTimeout( () => {
        for (let i = 0; i < 20; i++) {console.log("MATH A");}
      }, 0
    );
    return "done";
  }
  function mathB() {
    for (let i = 0; i < 10; i++) {
      console.log("MATH B");
    }
  }

  // ------------------------------------------------- a (no await)
 

  // ---------------------------------------------------- b (await)


  function notAsync () {
    mathA();
    console.log('NOT ASYNC')
  }

  clear.onclick = console.clear





  async function a() {
    mathA();
    console.log('in a (no await)')
  }
  asycnNoAwait.onclick = function() {
    let start = new Date().getTime();

    console.log('clicked on a button')
    a()
    mathB();
    console.log('after a (no await) call')

    let end = new Date().getTime() - start;
    console.log(end);
  }




  async function b() {
    // await mathA();
    console.log(await myPromise()) ;
    console.log('in b (await)')
  }
  asycnAwait.onclick = function() {
    let start = new Date().getTime();

    console.log('clicked on b button')
    b()
    mathB();
    console.log('after b (await) call')

    let end = new Date().getTime() - start;
    console.log(end);
  }






  notAsyncButton.onclick = function() {
    let start = new Date().getTime();

    console.log('clicked on not async button')
    notAsync();
    mathB();
    console.log('after not async call')

    let end = new Date().getTime() - start;
    console.log(end);
  }
</script>